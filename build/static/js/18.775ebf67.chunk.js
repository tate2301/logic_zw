(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[18],{1016:function(e,t,a){"use strict";a.r(t);var n=a(136),l=a(18),i=a(63),c=a(64),r=a(66),s=a(65),o=a(0),u=a.n(o),m=a(439),h=a(437),d=a(202),g=a(132),E=a(999),C=a(1e3),v=a(1001),f=a(1002),p=a(1003),b=a(433),y=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={editorState:g.EditorState.createEmpty()},n.onChange=function(e){var t=Object(g.convertToRaw)(e.getCurrentContent());n.saveEditorContent(t),n.setState({editorState:e})},n}return Object(c.a)(a,[{key:"saveEditorContent",value:function(e){e=JSON.stringify(e),this.props.saveData(this.props.name,e)}},{key:"_onBoldClick",value:function(){this.onChange(g.RichUtils.toggleInlineStyle(this.state.editorState,"BOLD"))}},{key:"_onCodeClick",value:function(){this.onChange(g.RichUtils.toggleBlockType(this.state.editorState,"code-block"))}},{key:"_onUnderlineClick",value:function(){this.onChange(g.RichUtils.toggleInlineStyle(this.state.editorState,"UNDERLINE"))}},{key:"_onItalicClick",value:function(){this.onChange(g.RichUtils.toggleInlineStyle(this.state.editorState,"ITALIC"))}},{key:"_onHeading5Click",value:function(){this.onChange(g.RichUtils.toggleBlockType(this.state.editorState,"heading-5"))}},{key:"_onListClick",value:function(){this.onChange(g.RichUtils.toggleBlockType(this.state.editorState,"list-block"))}},{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,{className:"editor-toolbar"},u.a.createElement("div",{className:this.state.editorState.getCurrentInlineStyle().has("BOLD")?"icon-active":"icon"},u.a.createElement("span",{onClick:this._onHeading5Click.bind(this)},"H5")),u.a.createElement("div",{className:this.state.editorState.getCurrentInlineStyle().has("BOLD")?"icon-active":"icon"},u.a.createElement(E.a,{size:16,onClick:this._onBoldClick.bind(this)})),u.a.createElement("div",{className:this.state.editorState.getCurrentInlineStyle().has("ITALIC")?"icon-active":"icon"},u.a.createElement(C.a,{size:16,onClick:this._onItalicClick.bind(this)})),u.a.createElement("div",{className:this.state.editorState.getCurrentInlineStyle().has("UNDERLINE")?"icon-active":"icon"},u.a.createElement(v.a,{size:16,onClick:this._onUnderlineClick.bind(this)})),u.a.createElement("div",{className:"list-block"===g.RichUtils.getCurrentBlockType(this.state.editorState)?"icon-active":"icon"},u.a.createElement(f.a,{size:16,onClick:this._onUnderlineClick.bind(this)})),u.a.createElement("div",{className:"code-block"===g.RichUtils.getCurrentBlockType(this.state.editorState)?"icon-active":"icon"},u.a.createElement(p.a,{size:16,onClick:this._onCodeClick.bind(this)}))),u.a.createElement(g.Editor,{className:"editor",editorState:this.state.editorState,onChange:this.onChange}),u.a.createElement(h.a,null,u.a.createElement(d.a,null)))}}]),a}(o.Component),k=a(450),S=a(1004),I=a(1017),_=a(445),O=a(1009),j=a(451),x=a(1012),D=a(448),R=a(58),N=a.n(R),U=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={started:!0,description:"",evaluation:"",rules:"",title:"",tagline:"",difficulty:"",thumbnail:"",total_points:"",prize_money:"",tags:[]},e.saveData=function(t,a){e.setState(Object(l.a)({},e.state,Object(n.a)({},t,a)))},e._onInputChange=function(t,a){console.log({field:t,data:a}),e.setState(Object(l.a)({},e.state,Object(n.a)({},t,a)))},e.createChallenge=function(){console.log(e.state),e.setState(Object(l.a)({},e.state,{submitting:!0})),""===e.state.description||""===e.state.evaluation||""===e.state.rules||""===e.state.title||""===e.state.tagline||""===e.state.thumbnail?(k.a.warning("Please fill in all fields",{id:"Hello there"}),e.setState(Object(l.a)({},e.state,{submitting:!1}))):N.a.post("/api/admin/challenges/create",e.state).then((function(t){t.data.error?(k.a.warning("Failed to create challenge. Reason: "+t.data.message),e.setState(Object(l.a)({},e.state,{submitting:!1}))):(k.a.success(t.data.message),e.setState(Object(l.a)({},e.state,{submitting:!1})),document.location.replace("/challenges"))})).catch((function(t){console.log(t),k.a.danger("Error occured while connecting to server"),e.setState(Object(l.a)({},e.state,{submitting:!1}))}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;console.log(this.state);return u.a.createElement(m.a,{className:"form"},u.a.createElement(_.a,{onSubmit:function(t){t.preventDefault(),e.createChallenge()}},u.a.createElement(h.a,null,u.a.createElement(d.a,null,u.a.createElement("h3",null,"Create a new challenge"),u.a.createElement("p",null,"Challenges are where people compete. They should include all the information that people need to get started"))),u.a.createElement(h.a,null,u.a.createElement(d.a,{lg:6,md:6,sm:12,xl:6,xs:12},u.a.createElement(S.a,null,"Title"),u.a.createElement(j.a,{type:"text",value:this.state.title,onChange:function(t){return e._onInputChange("title",t.target.value)}}))),u.a.createElement(h.a,null,u.a.createElement(d.a,{lg:6,md:6,sm:12,xl:6,xs:12},u.a.createElement(S.a,null,"Tagline"),u.a.createElement(j.a,{value:this.state.tagline,onChange:function(t){return e._onInputChange("tagline",t.target.value)},type:"text"}))),u.a.createElement(h.a,null,u.a.createElement(d.a,{lg:6,md:6,sm:12,xl:6,xs:12},u.a.createElement(S.a,null,"Points"),u.a.createElement(j.a,{value:this.state.points,onChange:function(t){return e._onInputChange("total_points",t.target.value)},type:"number"}))),u.a.createElement(h.a,null,u.a.createElement(d.a,{lg:6,md:6,sm:12,xl:6,xs:12},u.a.createElement(S.a,null,"Reward"),u.a.createElement(j.a,{value:this.state.reward,onChange:function(t){return e._onInputChange("prize_money",t.target.value)},type:"number"}))),u.a.createElement(h.a,null,u.a.createElement(d.a,{lg:6,md:6,sm:12,xl:6,xs:12},u.a.createElement(S.a,null,"Starts on"),u.a.createElement(O.a,{value:this.state.dateStarted,onChange:function(t){return e._onInputChange("dateStarted",t)}})),u.a.createElement(d.a,{lg:6,md:6,sm:12,xl:6,xs:12},u.a.createElement(S.a,null,"Deadline"),u.a.createElement(O.a,{value:this.state.dealine,onChange:function(t){return e._onInputChange("deadline",t)}}))),u.a.createElement(h.a,null,u.a.createElement(d.a,{xs:6,lg:2,xl:2,md:2},u.a.createElement(x.a,{value:this.state.started,onChange:function(t){return e._onInputChange("started",t.target.checked)},name:"started",label:"Challenge Started "})),u.a.createElement(d.a,{xs:6,lg:2,xl:2,md:2},u.a.createElement(x.a,{value:this.state.closed,onChange:function(t){return e._onInputChange("closed",t.target.checked)},name:"closed",label:"Challenge Closed "}))),u.a.createElement(h.a,null,u.a.createElement(d.a,null,u.a.createElement("h6",null,"Difficulty"),u.a.createElement(I.a,{value:this.state.difficulty,onChange:function(e){return console.log(e)},options:[{name:"difficulty",label:"Beginner",value:"Beginner"},{name:"difficulty",label:"Intermediate",value:"Intermediate"},{name:"difficulty",label:"Advanced",value:"Advanced"},{name:"difficulty",label:"Professional",value:"Professional"}]}))),u.a.createElement(h.a,null,u.a.createElement(d.a,null,u.a.createElement(S.a,null,"Thumbnail URI"),u.a.createElement(j.a,{value:this.state.thumbnail,onChange:function(t){return e._onInputChange("thumbnail",t.target.value)},type:"url"}))),u.a.createElement(h.a,null),u.a.createElement(h.a,null),u.a.createElement(h.a,null,u.a.createElement(d.a,null,u.a.createElement("h5",null,"Information"),u.a.createElement("p",null,"Provide the neccessary information for someone to understand what the challenge requires."))),u.a.createElement(h.a,null,u.a.createElement(d.a,null,u.a.createElement(S.a,null,"Description"),u.a.createElement(y,{saveData:this.saveData,name:"description"}))),u.a.createElement(h.a,null,u.a.createElement(d.a,null,u.a.createElement(S.a,null,"Evaluation"),u.a.createElement(y,{saveData:this.saveData,name:"evaluation"}))),u.a.createElement(h.a,null,u.a.createElement(d.a,null,u.a.createElement(S.a,null,"Rules"),u.a.createElement(y,{saveData:this.saveData,name:"rules"}))),u.a.createElement(h.a,null,u.a.createElement(d.a,null,u.a.createElement(D.a,{type:"submit",appearance:"primary",isLoading:this.state.submitting},"Create Challenge")))))}}]),a}(o.Component);t.default=U}}]);