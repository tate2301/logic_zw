(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[9],{984:function(e,t,a){"use strict";a.r(t);var n=a(19),r=a(63),o=a(64),c=a(66),l=a(65),s=a(0),i=a.n(s),u=a(437),m=a(439),g=a(435),d=a(201),p=a(446),b=a(442),E=a(57),f=a.n(E),h=a(444),w=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={submitting:!1},e._login=function(t){t.preventDefault(),console.log(t.target.username.value,t.target.password.value),e.setState(Object(n.a)({},e.state,{submitting:!0})),f.a.post("/api/auth/login",{username:t.target.username.value,password:t.target.password.value}).then((function(t){t.data.success?(h.a.success(t.data.message.toString(),{id:"forbidden-action"}),localStorage.setItem("token",t.data.token),f.a.get("/api/authcheck").then((function(t){console.log(t.data),t.data.error?(h.a.danger("You are not authenticated",{id:"forbidden-action"}),localStorage.getItem("token")&&(localStorage.removeItem("token"),e.setState(Object(n.a)({},e.state,{submitting:!1})),document.location.replace("/login"))):(localStorage.setItem("user",JSON.stringify(t.data)),e.setState(Object(n.a)({},e.state,{submitting:!1})),document.location.replace("/challenges"))}))):(h.a.warning(t.data.message.toString(),{id:"forbidden-action"}),e.setState(Object(n.a)({},e.state,{submitting:!1})))})).catch((function(t){h.a.danger(t.toString(),{id:"forbidden-action"}),e.setState(Object(n.a)({},e.state,{submitting:!1}))}))},e}return Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement(u.a,{className:"authentication"},i.a.createElement(g.a,null,i.a.createElement(d.a,{sm:0,lg:4,md:0}),i.a.createElement(d.a,null,i.a.createElement(g.a,{style:{marginBottom:"24px"}},i.a.createElement(d.a,null,i.a.createElement("h3",null,"Login to your Logic Account"))),i.a.createElement(m.a,{onSubmit:this._login},i.a.createElement(m.a.Row,null,i.a.createElement("p",null,"Username"),i.a.createElement(p.a,{isRequired:!0,name:"username",type:"text"})),i.a.createElement(m.a.Row,null,i.a.createElement("p",null,"Password"),i.a.createElement(p.a,{isRequired:!0,name:"password",type:"password"})),i.a.createElement(m.a.Row,null,i.a.createElement(b.a,{type:"submit",appearance:"primary",className:"button",isLoading:this.state.submitting},"Login"))),i.a.createElement(g.a,null,i.a.createElement(d.a,{className:"text-center cursor-hand"},i.a.createElement("p",null,"Are you new here? ",i.a.createElement("span",{className:"text-primary"},"Create an account for free"))))),i.a.createElement(d.a,{sm:0,lg:4,md:0})))}}]),a}(s.Component);t.default=w}}]);